(function(t){function e(e){for(var i,s,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0253":function(t,e,n){},"034d":function(t,e,n){"use strict";n("0688")},"05f7":function(t,e,n){"use strict";n("932e")},"0688":function(t,e,n){},"06b9":function(t,e,n){"use strict";n("4455")},"0737":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading||!t.srcLoading,expression:"loading || !srcLoading"}],staticClass:"about-container"},[n("iframe",{staticClass:"about-container",attrs:{src:t.src,frameborder:"0"},on:{load:function(e){t.srcLoading=!0}}})])},a=[],r=n("5880"),s={data:function(){return{srcLoading:!1}},computed:Object(r["mapState"])("about",{src:"banners",loading:"isLoding"}),created:function(){this.$store.dispatch("about/fetchAbout")}},o=s,c=(n("4a7a"),n("2877")),u=Object(c["a"])(o,i,a,!1,null,null,null);e["default"]=u.exports},"09f7":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout",{scopedSlots:t._u([{key:"right",fn:function(){return[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoding,expression:"isLoding"}],staticClass:"toc-container"},[t.banners?n("BlogToc",{attrs:{toc:t.banners.toc}}):t._e()],1)]},proxy:!0}])},[[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoding,expression:"isLoding"}],ref:"main",staticClass:"main-container"},[t.banners?n("BlogDetail",{attrs:{blog:t.banners}}):t._e(),t.banners?n("BlogComment"):t._e()],1)]],2)},a=[],r=(n("96cf"),n("1da1")),s=n("e67d"),o=n("5849"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blog-comment-container"},[n("messageArea",{attrs:{title:"评论列表",subTitle:"("+t.banners.total+")",isListLoading:t.isLoding,list:t.banners.rows},on:{submit:t.handleSubmit}})],1)},u=[],l=(n("99af"),n("5530")),d=n("684a"),p=n("28af"),m=n("2912"),h={data:function(){return{page:1,limit:10}},mixins:[Object(p["a"])({total:0,rows:[]})],components:{messageArea:d["a"]},computed:{hasMore:function(){return this.banners.rows.length<this.banners.total}},mounted:function(){this.$bus.$on("mainScroll",this.handleScroll)},destroyed:function(){this.$bus.$off("mainScroll",this.handleScroll)},methods:{handleScroll:function(t){if(!this.isLoding&&t){var e=80,n=Math.abs(t.scrollTop+t.clientHeight-t.scrollHeight);n<=e&&this.loadMore()}},fetch:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["d"])(t.$route.params.id,t.page,t.limit);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},handleSubmit:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(m["f"])(Object(l["a"])({blogId:n.$route.params.id},t));case 2:a=i.sent,n.banners.rows.unshift(a),n.total++,e("提交完成");case 6:case"end":return i.stop()}}),i)})))()},loadMore:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.hasMore){e.next=2;break}return e.abrupt("return");case 2:return t.isLoding=!0,t.page++,e.next=6,t.fetch();case 6:n=e.sent,t.banners.total=n.total,t.banners.rows=t.banners.rows.concat(n.rows),t.isLoding=!1;case 10:case"end":return e.stop()}}),e)})))()}}},f=h,g=(n("c681"),n("2877")),b=Object(g["a"])(f,c,u,!1,null,"68861f4e",null),v=b.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blog-toc-container"},[n("h2",[t._v("目录")]),n("rightList",{attrs:{list:t.newArray},on:{Active:t.handleActive}})],1)},w=[],x=(n("d81d"),n("18a5"),n("b85c")),j=n("775e"),_={data:function(){return{anchor:""}},mounted:function(){this.bounding=this.debounce(this.toActive,50),this.$bus.$on("mainScroll",this.bounding)},destroyed:function(){this.$bus.$off("mainScroll",this.bounding)},computed:{newArray:function(){var t=this,e=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.map((function(n){return Object(l["a"])(Object(l["a"])({},n),{},{active:t.anchor===n.anchor,children:e(n.children)})}))};return e(this.toc)},getDoms:function(){var t=[],e=function e(n){var i,a=Object(x["a"])(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;t.push(document.getElementById(r.anchor)),r.children&&r.children.length>0&&e(r.children)}}catch(s){a.e(s)}finally{a.f()}};return e(this.toc),t}},components:{rightList:j["a"],RightList:j["a"]},props:{toc:{type:Array}},methods:{handleActive:function(t){location.hash=t.anchor},toActive:function(t){if(t){this.anchor="";var e,n=200,i=Object(x["a"])(this.getDoms);try{for(i.s();!(e=i.n()).done;){var a=e.value,r=a.getBoundingClientRect().top;if(r>=0&&r<=n)return void(this.anchor=a.id);if(r>n)return;this.anchor=a.id}}catch(s){i.e(s)}finally{i.f()}}},debounce:function(t,e){var n=null;return function(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];clearTimeout(n),n=setTimeout((function(){t.apply(void 0,a)}),e)}}}},C=_,k=(n("fc2f"),Object(g["a"])(C,y,w,!1,null,"2c9b7fb5",null)),O=k.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blog-detail-container"},[n("h1",[t._v(t._s(t.blog.title))]),n("div",{staticClass:"aside"},[n("span",[t._v("日期: "+t._s(t.blog.createDate))]),n("span",[t._v("浏览: "+t._s(t.blog.scanNumber))]),n("span",[t._v("评论: "+t._s(t.blog.commentNumber))]),n("span",[t._v(t._s(t.blog.category.name))])]),n("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.blog.htmlContent)}})])},L=[],S=(n("db6a"),n("f0a9"),{props:{blog:{type:Object,required:!0}}}),R=S,T=(n("ac08"),Object(g["a"])(R,$,L,!1,null,"6a5c9b12",null)),P=T.exports,A=n("0c03"),M={mixins:[Object(p["a"])(null),Object(A["a"])("main")],components:{BlogDetail:P,Layout:o["a"],BlogToc:O,BlogComment:v},methods:{fetch:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["c"])();case 2:return e=t.sent,s["a"].setRouteTitle(e.title),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))()}},updated:function(){var t=location.hash;location.hash="",setTimeout((function(){location.hash=t}),50)}},E=M,I=(n("5f18"),Object(g["a"])(E,i,a,!1,null,"fe5218ce",null));e["default"]=I.exports},"0c03":function(t,e,n){"use strict";e["a"]=function(t){return{methods:{scroll:function(){this.$bus.$emit("mainScroll",this.$refs[t])},handleClick:function(e){this.$refs[t].scrollTop=e}},mounted:function(){this.$refs[t].addEventListener("scroll",this.scroll),this.$bus.$on("setClick",this.handleClick)},beforeDestroy:function(){this.$bus.$emit("mainScroll"),this.$bus.$off("setClick",this.handleClick),this.$refs[t].removeEventListener("scroll",this.scroll)}}}},"0c6d":function(t,e,n){"use strict";var i=n("cebe4"),a=n.n(i),r=n("c4f5"),s=a.a.create();s.interceptors.response.use((function(t){return 0!==t.data.code?(Object(r["a"])({content:t.data.msg,type:"error"}),void console.log("没有数据")):t.data.data})),e["a"]=s},"0f19":function(t,e,n){t.exports={loading:"loading-module_loading_1G_9Z"}},"156f":function(t,e,n){},"16c0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoding,expression:"isLoding"}],ref:"container",staticClass:"home-container"},[n("ul",{staticClass:"carouitem",style:{marginTop:t.marginTop},on:{wheel:t.handleRoller,transitionend:t.handleTransition}},t._l(t.banners,(function(t){return n("li",{key:t.id},[n("Carouseitem",{attrs:{date:t}})],1)})),0),n("div",{staticClass:"icon"},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.index>=1,expression:"index >= 1"}],staticClass:"top",on:{click:function(e){return t.switchTo(t.index-1)}}},[n("Icon",{attrs:{type:"arrowUp"}})],1),n("i",{directives:[{name:"show",rawName:"v-show",value:t.index<t.banners.length-1,expression:"index < banners.length - 1"}],staticClass:"bottom",on:{click:function(e){return t.switchTo(t.index+1)}}},[n("Icon",{attrs:{type:"arrowDown"}})],1)]),n("ul",{staticClass:"indicate"},t._l(t.banners,(function(e,i){return n("li",{key:e.id,class:{active:i===t.index},on:{click:function(e){return t.switchTo(i)}}})})),0)])},a=[],r=n("5530"),s=n("5880"),o=n("cdae"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"carouseitem-container",on:{mousemove:t.handleMouseMove,mouseleave:t.handleMouseLeave}},[n("div",{ref:"image",staticClass:"img-container",style:t.imagePosition},[n("ImageLoader",{attrs:{src:t.date.bigImg,placeholder:t.date.midImg},on:{load:t.showWords}})],1),n("p",{ref:"title",staticClass:"title"},[t._v(t._s(t.date.title))]),n("p",{ref:"description",staticClass:"description"},[t._v(t._s(t.date.description))])])},u=[],l=(n("a4d3"),n("e01a"),n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"background-contaienr"},[t.loding?t._e():n("img",{attrs:{src:t.placeholder}}),n("img",{staticClass:"head",style:{opacity:t.islod,transition:t.duration+"ms"},attrs:{src:t.src},on:{load:t.load}})])}),d=[],p=(n("a9e3"),{props:{src:{type:String,required:!0},placeholder:{type:String,required:!0},duration:{type:Number,default:500}},data:function(){return{isloding:!1,loding:!1}},computed:{islod:function(){return this.isloding?1:0}},methods:{load:function(){var t=this;this.isloding=!0,setTimeout((function(){t.loding=!0,t.$emit("load")}),this.duration)}}}),m=p,h=(n("503e"),n("2877")),f=Object(h["a"])(m,l,d,!1,null,"35954318",null),g=f.exports,b={props:["date"],components:{ImageLoader:g},data:function(){return{titleWidth:0,descriptionWidth:0,containerSize:null,imageSize:null,mouseX:0,mouseY:0}},mounted:function(){this.titleWidth=this.$refs.title.clientWidth,this.descriptionWidth=this.$refs.description.clientWidth,this.setSize(),this.mouseX=this.center.x,this.mouseY=this.center.y,window.addEventListener("resize",this.setSize)},destroyed:function(){window.removeEventListener("resize",this.setSize)},computed:{imagePosition:function(){if(this.imageSize&&this.containerSize){var t=this.imageSize.width-this.containerSize.width,e=this.imageSize.height-this.containerSize.height,n=-t/this.containerSize.width*this.mouseX,i=-e/this.containerSize.height*this.mouseY;return{transform:"translate(".concat(n,"px,").concat(i,"px)")}}},center:function(){return{x:this.containerSize.width/2,y:this.containerSize.height/2}}},methods:{showWords:function(){this.$refs.title.style.opacity=1,this.$refs.title.style.width=0,this.$refs.title.clientWidth,this.$refs.title.style.transition="1s",this.$refs.title.style.width=this.titleWidth+"px",this.$refs.description.style.opacity=1,this.$refs.description.style.width=0,this.$refs.description.clientWidth,this.$refs.description.style.transition="2s 1s",this.$refs.description.style.width=this.descriptionWidth+"px"},setSize:function(){this.containerSize={width:this.$refs.container.clientWidth,height:this.$refs.container.clientHeight},this.imageSize={width:this.$refs.image.clientWidth,height:this.$refs.image.clientHeight}},handleMouseMove:function(t){var e=this.$refs.container.getBoundingClientRect();this.mouseX=t.clientX-e.left,this.mouseY=t.clientY-e.top},handleMouseLeave:function(){this.mouseX=this.center.x,this.mouseY=this.center.y}}},v=b,y=(n("bb47"),Object(h["a"])(v,c,u,!1,null,"7f93e035",null)),w=y.exports,x={created:function(){this.$store.dispatch("banners/fetchBanner")},components:{Icon:o["a"],Carouseitem:w},data:function(){return{index:0,containerHeight:0,roller:!1}},mounted:function(){this.containerHeight=this.$refs.container.clientHeight,window.addEventListener("resize",this.handleResize)},destroyed:function(){window.removeEventListener("resize",this.handleResize)},computed:Object(r["a"])(Object(r["a"])({},Object(s["mapState"])("banners",["banners","isLoding"])),{},{marginTop:function(){return-this.index*this.containerHeight+"px "}}),methods:{switchTo:function(t){this.index=t},handleRoller:function(t){this.roller||(t.deltaY<=-125&&this.index>0?(this.roller=!0,this.index--):t.deltaY>=125&&this.index<this.banners.length-1&&(this.roller=!0,this.index++))},handleTransition:function(){this.roller=!1},handleResize:function(){this.containerHeight=this.$refs.container.clientHeight}}},j=x,_=(n("bd4b"),Object(h["a"])(j,i,a,!1,null,"ec2cedc2",null));e["default"]=_.exports},"16ec":function(t,e,n){},2038:function(t,e,n){},"26dd":function(t,e,n){},"28af":function(t,e,n){"use strict";n("96cf");var i=n("1da1");e["a"]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{data:function(){return{banners:t,isLoding:!0}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetch();case 2:t.banners=e.sent,t.isLoding=!1;case 4:case"end":return e.stop()}}),e)})))()}}}},2912:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return f}));n("96cf");var i=n("1da1"),a=n("0c6d");function r(){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/blogtype");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function o(){return c.apply(this,arguments)}function c(){return c=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,n=r.length>1&&void 0!==r[1]?r[1]:10,i=r.length>2&&void 0!==r[2]?r[2]:-1,t.next=5,a["a"].get("/api/blog",{params:{page:e,limit:n,categoryid:i}});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/blog/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(t){return p.apply(this,arguments)}function p(){return p=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/api/comment",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function m(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,i=r.length>2&&void 0!==r[2]?r[2]:10,t.next=4,a["a"].get("/api/comment",{params:{blogId:e,page:n,limit:i}});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(){return g.apply(this,arguments)}function g(){return g=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/setting");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}},"2b2d":function(t,e,n){"use strict";n("156f")},"2cde":function(t,e,n){},3143:function(t,e,n){"use strict";n("d67f")},"31a5":function(t,e,n){},"34fb":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoding,expression:"isLoding"}],ref:"projectContainer",staticClass:"project-container"},t._l(t.banners,(function(e){return n("div",{key:e.id,staticClass:"project-item"},[n("a",{attrs:{href:e.url?e.url:"javascript:alert('该项目无法通过外网访问')",target:e.url?"_blank":"_self"}},[n("img",{directives:[{name:"Img",rawName:"v-Img",value:e.thumb,expression:"item.thumb"}],staticClass:"thumb"})]),n("div",{staticClass:"info"},[n("h2",[n("a",{attrs:{href:e.url?e.url:"javascript:alert('该项目无法通过外网访问')",target:e.url?"_blank":"_self"}},[t._v(" "+t._s(e.name)+" ")])]),e.github?n("a",{staticClass:"github",attrs:{target:"_blank",href:e.github}},[t._v(" github ")]):t._e(),t._l(e.description,(function(e,i){return n("p",{key:i},[t._v(" "+t._s(e)+" ")])}))],2)])})),0)},a=[],r=n("0c03"),s=n("5880"),o={mixins:[Object(r["a"])("projectContainer")],created:function(){this.$store.dispatch("demo/fetchDemo")},computed:Object(s["mapState"])("demo",["banners","isLoding"])},c=o,u=(n("b78c"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,"baf0ab58",null);e["default"]=l.exports},"3b5d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout",{scopedSlots:t._u([{key:"right",fn:function(){return[n("BlogCategory")]},proxy:!0}])},[[n("BlogList")]],2)},a=[],r=n("5849"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoding,expression:"isLoding"}],ref:"container",staticClass:"BogList-contaienr"},[n("ul",t._l(t.banners.rows,(function(e,i){return n("li",{key:i},[e.thumb?n("div",{staticClass:"img"},[n("router-link",{attrs:{to:{name:"bolgDetails",params:{id:e.id}}}},[n("img",{directives:[{name:"Img",rawName:"v-Img",value:e.thumb,expression:"items.thumb"}],attrs:{alt:e.title,title:e.title}})])],1):t._e(),n("div",{staticClass:"main"},[n("router-link",{attrs:{to:{name:"bolgDetails",params:{id:e.id}}}},[n("h2",[t._v(t._s(e.title))])]),n("div",{staticClass:"date"},[n("span",[t._v("日期："+t._s(e.createDate))]),n("span",[t._v("浏览："+t._s(e.commentNumber))]),n("span",[t._v("评论"+t._s(e.scanNumber))]),n("span",[t._v(t._s(e.category.name))])]),n("div",{staticClass:"describe"},[t._v(t._s(e.description))])],1)])})),0),t.banners.total?n("page",{attrs:{total:t.banners.total,limit:t.routeInfo.limit,current:t.routeInfo.page,visibleNumber:10},on:{pageChange:t.handlePageChange}}):t._e()],1)},o=[],c=(n("96cf"),n("1da1")),u=n("2912"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pageCount>=1?n("div",{staticClass:"Page-container"},[n("a",{class:{dis:1===t.current},on:{click:function(e){return t.pageChange(1)}}},[t._v("|<<")]),n("a",{class:{dis:1===t.current},on:{click:function(e){return t.pageChange(t.current-1)}}},[t._v("|<<")]),t._l(t.displayLength,(function(e,i){return n("a",{key:i,class:{active:t.current===e},on:{click:function(n){return t.pageChange(e)}}},[t._v(t._s(e))])})),n("a",{class:{dis:t.current===t.maxPage},on:{click:function(e){return t.pageChange(t.current+1)}}},[t._v(">>|")]),n("a",{class:{dis:t.current===t.maxPage},on:{click:function(e){return t.pageChange(t.pageCount)}}},[t._v(">>|")])],2):t._e()},d=[],p=(n("a9e3"),{props:{current:{type:Number,default:1,required:!1},total:{type:Number,default:0,required:!1},limit:{type:Number,default:10,required:!1},visibleNumber:{type:Number,default:10,required:!1}},computed:{pageCount:function(){return Math.floor(this.total/this.limit)},minPage:function(){var t=this.current-Math.floor(this.visibleNumber/2);return t<1&&(t=1),t},maxPage:function(){var t=this.minPage+this.visibleNumber-1;return t>this.pageCount&&(t=this.pageCount),t},displayLength:function(){for(var t=[],e=this.minPage;e<=this.maxPage;e++)t.push(e);return t}},methods:{pageChange:function(t){t<1&&(t=1),t>this.pageCount&&(t=this.pageCount),t!==this.current&&this.$emit("pageChange",t)}}}),m=p,h=(n("8d00"),n("2877")),f=Object(h["a"])(m,l,d,!1,null,"6db76936",null),g=f.exports,b=n("28af"),v=n("0c03"),y={components:{page:g},computed:{routeInfo:function(){var t=+this.$route.query.page||1,e=+this.$route.query.limit||10,n=+this.$route.params.CategoryId||-1;return{page:t,limit:e,category:n}}},beforeDestroy:function(){this.$bus.$off("setClick",this.handleClick),this.$refs.container.removeEventListener("scroll",this.scroll)},mixins:[Object(b["a"])({}),Object(v["a"])("container")],methods:{fetch:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["a"])(t.routeInfo.page,t.routeInfo.limit,t.routeInfo.category);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},handlePageChange:function(t){var e={page:t,limit:this.routeInfo.limit};-1===this.routeInfo.category?this.$router.push({name:"Blog",query:e}):this.$router.push({name:"Category",query:e,params:{CategoryId:this.routeInfo.category}})}},watch:{$route:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoding=!0,t.$refs.container.scrollTop=0,e.next=4,t.fetch();case 4:t.banners=e.sent,t.isLoding=!1;case 6:case"end":return e.stop()}}),e)})))()}}},w=y,x=(n("b8c7"),Object(h["a"])(w,s,o,!1,null,"6fe7a714",null)),j=x.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoding,expression:"isLoding"}],staticClass:"BlogCategory-container"},[n("h2",[t._v("文章分类")]),t.list?n("rightList",{attrs:{list:t.list},on:{Active:t.handleActive}}):t._e()],1)},C=[],k=(n("99af"),n("d81d"),n("13d5"),n("5530")),O=n("2909"),$=n("775e"),L={mixins:[Object(b["a"])([])],components:{rightList:$["a"]},methods:{fetch:function(){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["b"])();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},handleActive:function(t){var e={page:1,limit:this.limit};-1===t.id?this.$router.push({name:"Blog",query:e}):this.$router.push({name:"Category",query:e,params:{CategoryId:t.id}})}},computed:{categoryId:function(){return+this.$route.params.CategoryId||-1},limit:function(){return+this.$route.query.limit||10},list:function(){var t=this,e=this.banners.reduce((function(t,e){return t+e.articleCount}),0),n=[{name:"全部",id:-1,articleCount:e}].concat(Object(O["a"])(this.banners));return n.map((function(e){return Object(k["a"])(Object(k["a"])({},e),{},{active:e.id===t.categoryId,dis:"".concat(e.articleCount,"篇")})}))}}},S=L,R=(n("2b2d"),Object(h["a"])(S,_,C,!1,null,"36aec3ca",null)),T=R.exports,P={components:{Layout:r["a"],BlogList:j,BlogCategory:T}},A=P,M=Object(h["a"])(A,i,a,!1,null,"218cecec",null);e["default"]=M.exports},4045:function(t,e,n){t.exports=n.p+"img/loading.7d26db10.svg"},4174:function(t,e,n){t.exports=n.p+"img/default.969421d9.gif"},4455:function(t,e,n){},"4a7a":function(t,e,n){"use strict";n("51de")},"4a9e":function(t,e,n){},"503e":function(t,e,n){"use strict";n("26dd")},"51de":function(t,e,n){},5315:function(t,e,n){},"536b":function(t,e,n){t.exports={message:"showMessage-module_message_3v7H3","message-info":"showMessage-module_message-info_1ZW3l","message-error":"showMessage-module_message-error_2UIr3","message-warn":"showMessage-module_message-warn_1Jfh3","message-success":"showMessage-module_message-success_gMWiM",icon:"showMessage-module_icon_3nHuj"}},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("96eb"),a=n.n(i);a.a.mock("/api/banner","get",{code:0,msg:"",data:[{id:"1",midImg:"http://mdrs.yuanjin.tech/img/20201031141507.jpg",bigImg:"http://mdrs.yuanjin.tech/img/20201031141350.jpg",title:"凛冬将至",description:"人唯有恐惧的时候方能勇敢"},{id:"2",midImg:"http://mdrs.yuanjin.tech/img/20201031205550.jpg",bigImg:"http://mdrs.yuanjin.tech/img/20201031205551.jpg",title:"血火同源",description:"如果我回头，一切都完了"},{id:"3",midImg:"http://mdrs.yuanjin.tech/img/20201031204401.jpg",bigImg:"http://mdrs.yuanjin.tech/img/20201031204403.jpg",title:"听我怒吼",description:"兰尼斯特有债必偿"}]});var r=n("ade3"),s=n("b383");a.a.mock("/api/blogtype","get",{code:0,msg:"","data|20-30":[{"id|+1":1,name:"分类@id","articleCount|50-100":1,"order|+1":1}]}),a.a.mock(/^\/api\/blog(\?.+)?$/,"get",(function(t){var e=s.parse(t.url);return a.a.mock({code:0,msg:"",data:Object(r["a"])({"total|500-1000":0},"rows|".concat(e.limit||10),[{id:"@guid",title:"@cword(50)",description:"@cparagraph(1,5)",category:{"id|1-10":0,name:"分类@id"},"scanNumber|0-300":0,"commentNumber|0-100":0,"thumb|1":['@image("300x200", "@color", "I am the most handsome")'],createDate:'@date("yyyy-MM-dd")'}])})})),a.a.mock(/^\/api\/blog\/[^/]+$/,{code:0,msg:"",data:{id:"@guid",title:"CORS跨域方案详解",category:{"id|1-10":1,name:"分类@id"},description:"@cparagraph(1, 10)","scanNumber|0-10000":0,"commentNumber|0-100":0,createDate:"@date('yyyy-MM-dd')",toc:[{name:"概述",anchor:"article-md-title-1"},{name:"简单请求",anchor:"article-md-title-2",children:[{name:"简单请求的判定",anchor:"article-md-title-3"},{name:"简单请求的交互规范",anchor:"article-md-title-4"}]},{name:"需要预检的请求",anchor:"article-md-title-5"},{name:"附带身份凭证的请求",anchor:"article-md-title-6"},{name:"一个额外的补充",anchor:"article-md-title-7"}],htmlContent:'<blockquote>\n  <p>阅读本文，你需要首先知道：</p><ol>\n  <li>浏览器的同源策略</li>\n  <li>跨域问题</li>\n  <li>JSONP原理</li>\n  <li>cookie原理</li>\n  </ol>\n  </blockquote>\n  <p>JSONP并不是一个好的跨域解决方案，它至少有着下面两个严重问题：</p><ol>\n  <li><strong>会打乱服务器的消息格式</strong>：JSONP要求服务器响应一段JS代码，但在非跨域的情况下，服务器又需要响应一个正常的JSON格式</li>\n  <li><strong>只能完成GET请求</strong>：JSONP的原理会要求浏览器端生成一个<code>script</code>元素，而<code>script</code>元素发出的请求只能是<code>get</code>请求</li>\n  </ol>\n  <p>所以，CORS是一种更好的跨域解决方案。</p><h1 id="article-md-title-1">概述</h1><p><code>CORS</code>是基于<code>http1.1</code>的一种跨域解决方案，它的全称是<strong>C</strong>ross-<strong>O</strong>rigin <strong>R</strong>esource <strong>S</strong>haring，跨域资源共享。</p><p>它的总体思路是：<strong>如果浏览器要跨域访问服务器的资源，需要获得服务器的允许</strong></p><figure class="markdown-image">\n        \n        <img style="width:auto" src="http://mdrs.yuanjin.tech/img/image-20200421152122793.png" title="image-20200421152122793" alt="image-20200421152122793">\n        <figcaption>image-20200421152122793</figcaption>\n    \n      </figure><p>而要知道，一个请求可以附带很多信息，从而会对服务器造成不同程度的影响</p><p>比如有的请求只是获取一些新闻，有的请求会改动服务器的数据</p><p>针对不同的请求，CORS规定了三种不同的交互模式，分别是：</p><ul>\n  <li><strong>简单请求</strong></li>\n  <li><strong>需要预检的请求</strong></li>\n  <li><strong>附带身份凭证的请求</strong></li>\n  </ul>\n  <p>这三种模式从上到下层层递进，请求可以做的事越来越多，要求也越来越严格。</p><p>下面分别说明三种请求模式的具体规范。</p><h1 id="article-md-title-2">简单请求</h1><p>当浏览器端运行了一段ajax代码（无论是使用XMLHttpRequest还是fetch api），浏览器会首先判断它属于哪一种请求模式</p><h2 id="article-md-title-3">简单请求的判定</h2><p>当请求<strong>同时满足</strong>以下条件时，浏览器会认为它是一个简单请求：</p><ol>\n  <li><p><strong>请求方法属于下面的一种：</strong></p><ul>\n  <li>get</li>\n  <li>post</li>\n  <li>head</li>\n  </ul>\n  </li>\n  <li><p><strong>请求头仅包含安全的字段，常见的安全字段如下：</strong></p><ul>\n  <li><code>Accept</code></li>\n  <li><code>Accept-Language</code></li>\n  <li><code>Content-Language</code></li>\n  <li><code>Content-Type</code></li>\n  <li><code>DPR</code></li>\n  <li><code>Downlink</code></li>\n  <li><code>Save-Data</code></li>\n  <li><code>Viewport-Width</code></li>\n  <li><code>Width</code></li>\n  </ul>\n  </li>\n  <li><p><strong>请求头如果包含<code>Content-Type</code>，仅限下面的值之一：</strong></p><ul>\n  <li><code>text/plain</code></li>\n  <li><code>multipart/form-data</code></li>\n  <li><code>application/x-www-form-urlencoded</code></li>\n  </ul>\n  </li>\n  </ol>\n  <p>如果以上三个条件同时满足，浏览器判定为简单请求。</p><p>下面是一些例子：</p><pre><code class="language-js"><span class="hljs-comment">// 简单请求</span>\n  fetch(<span class="hljs-string">"http://crossdomain.com/api/news"</span>);\n  \n  <span class="hljs-comment">// 请求方法不满足要求，不是简单请求</span>\n  fetch(<span class="hljs-string">"http://crossdomain.com/api/news"</span>, {\n    <span class="hljs-attr">method</span>:<span class="hljs-string">"PUT"</span>\n  })\n  \n  <span class="hljs-comment">// 加入了额外的请求头，不是简单请求</span>\n  fetch(<span class="hljs-string">"http://crossdomain.com/api/news"</span>, {\n    <span class="hljs-attr">headers</span>:{\n      <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>\n    }\n  })\n  \n  <span class="hljs-comment">// 简单请求</span>\n  fetch(<span class="hljs-string">"http://crossdomain.com/api/news"</span>, {\n    <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>\n  })\n  \n  <span class="hljs-comment">// content-type不满足要求，不是简单请求</span>\n  fetch(<span class="hljs-string">"http://crossdomain.com/api/news"</span>, {\n    <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>,\n    <span class="hljs-attr">headers</span>: {\n      <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>\n    }\n  })</code></pre>\n  <h2 id="article-md-title-4">简单请求的交互规范</h2><p>当浏览器判定某个<strong>ajax跨域请求</strong>是<strong>简单请求</strong>时，会发生以下的事情</p><ol>\n  <li><strong>请求头中会自动添加<code>Origin</code>字段</strong></li>\n  </ol>\n  <p>比如，在页面<code>http://my.com/index.html</code>中有以下代码造成了跨域</p><pre><code class="language-js"><span class="hljs-comment">// 简单请求</span>\n  fetch(<span class="hljs-string">"http://crossdomain.com/api/news"</span>);</code></pre>\n  <p>请求发出后，请求头会是下面的格式：</p><pre><code>GET /api/news/ HTTP/1.1\n  Host: crossdomain.com\n  Connection: keep-alive\n  ...\n  Referer: http://my.com/index.html\n  Origin: http://my.com</code></pre><p>看到最后一行没，<code>Origin</code>字段会告诉服务器，是哪个源地址在跨域请求</p><ol start="2">\n  <li><strong>服务器响应头中应包含<code>Access-Control-Allow-Origin</code></strong></li>\n  </ol>\n  <p>当服务器收到请求后，如果允许该请求跨域访问，需要在响应头中添加<code>Access-Control-Allow-Origin</code>字段</p><p>该字段的值可以是：</p><ul>\n  <li>*：表示我很开放，什么人我都允许访问</li>\n  <li>具体的源：比如<code>http://my.com</code>，表示我就允许你访问</li>\n  </ul>\n  <blockquote>\n  <p>实际上，这两个值对于客户端<code>http://my.com</code>而言，都一样，因为客户端才不会管其他源服务器允不允许，就关心自己是否被允许</p><p>当然，服务器也可以维护一个可被允许的源列表，如果请求的<code>Origin</code>命中该列表，才响应<code>*</code>或具体的源</p><p><strong>为了避免后续的麻烦，强烈推荐响应具体的源</strong></p></blockquote>\n  <p>假设服务器做出了以下的响应：</p><pre><code>HTTP/1.1 200 OK\n  Date: Tue, 21 Apr 2020 08:03:35 GMT\n  ...\n  Access-Control-Allow-Origin: http://my.com\n  ...\n  \n  消息体中的数据</code></pre><p>当浏览器看到服务器允许自己访问后，高兴的像一个两百斤的孩子，于是，它就把响应顺利的交给js，以完成后续的操作</p><p>下图简述了整个交互过程</p><figure class="markdown-image">\n        \n        <img style="width:auto" src="http://mdrs.yuanjin.tech/img/image-20200421162846480.png" title="image-20200421162846480" alt="image-20200421162846480">\n        <figcaption>image-20200421162846480</figcaption>\n    \n      </figure><h1 id="article-md-title-5">需要预检的请求</h1><p>简单的请求对服务器的威胁不大，所以允许使用上述的简单交互即可完成。</p><p>但是，如果浏览器不认为这是一种简单请求，就会按照下面的流程进行：</p><ol>\n  <li><strong>浏览器发送预检请求，询问服务器是否允许</strong></li>\n  <li><strong>服务器允许</strong></li>\n  <li><strong>浏览器发送真实请求</strong></li>\n  <li><strong>服务器完成真实的响应</strong></li>\n  </ol>\n  <p>比如，在页面<code>http://my.com/index.html</code>中有以下代码造成了跨域</p><pre><code class="language-js"><span class="hljs-comment">// 需要预检的请求</span>\n  fetch(<span class="hljs-string">"http://crossdomain.com/api/user"</span>, {\n    <span class="hljs-attr">method</span>:<span class="hljs-string">"POST"</span>, <span class="hljs-comment">// post 请求</span>\n    <span class="hljs-attr">headers</span>:{  <span class="hljs-comment">// 设置请求头</span>\n      <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,\n      <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>,\n      <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>\n    },\n    <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({ <span class="hljs-attr">name</span>: <span class="hljs-string">"袁小进"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> }) <span class="hljs-comment">// 设置请求体</span>\n  });</code></pre>\n  <p>浏览器发现它不是一个简单请求，则会按照下面的流程与服务器交互</p><ol>\n  <li><strong>浏览器发送预检请求，询问服务器是否允许</strong></li>\n  </ol>\n  <pre><code>OPTIONS /api/user HTTP/1.1\n  Host: crossdomain.com\n  ...\n  Origin: http://my.com\n  Access-Control-Request-Method: POST\n  Access-Control-Request-Headers: a, b, content-type</code></pre><p>可以看出，这并非我们想要发出的真实请求，请求中不包含我们的响应头，也没有消息体。</p><p>这是一个预检请求，它的目的是询问服务器，是否允许后续的真实请求。</p><p>预检请求<strong>没有请求体</strong>，它包含了后续真实请求要做的事情</p><p>预检请求有以下特征：</p><ul>\n  <li>请求方法为<code>OPTIONS</code></li>\n  <li>没有请求体</li>\n  <li>请求头中包含<ul>\n  <li><code>Origin</code>：请求的源，和简单请求的含义一致</li>\n  <li><code>Access-Control-Request-Method</code>：后续的真实请求将使用的请求方法</li>\n  <li><code>Access-Control-Request-Headers</code>：后续的真实请求会改动的请求头</li>\n  </ul>\n  </li>\n  </ul>\n  <ol start="2">\n  <li><strong>服务器允许</strong></li>\n  </ol>\n  <p>服务器收到预检请求后，可以检查预检请求中包含的信息，如果允许这样的请求，需要响应下面的消息格式</p><pre><code>HTTP/1.1 200 OK\n  Date: Tue, 21 Apr 2020 08:03:35 GMT\n  ...\n  Access-Control-Allow-Origin: http://my.com\n  Access-Control-Allow-Methods: POST\n  Access-Control-Allow-Headers: a, b, content-type\n  Access-Control-Max-Age: 86400\n  ...</code></pre><p>对于预检请求，不需要响应任何的消息体，只需要在响应头中添加：</p><ul>\n  <li><code>Access-Control-Allow-Origin</code>：和简单请求一样，表示允许的源</li>\n  <li><code>Access-Control-Allow-Methods</code>：表示允许的后续真实的请求方法</li>\n  <li><code>Access-Control-Allow-Headers</code>：表示允许改动的请求头</li>\n  <li><code>Access-Control-Max-Age</code>：告诉浏览器，多少秒内，对于同样的请求源、方法、头，都不需要再发送预检请求了</li>\n  </ul>\n  <ol start="3">\n  <li><strong>浏览器发送真实请求</strong></li>\n  </ol>\n  <p>预检被服务器允许后，浏览器就会发送真实请求了，上面的代码会发生下面的请求数据</p><pre><code>POST /api/user HTTP/1.1\n  Host: crossdomain.com\n  Connection: keep-alive\n  ...\n  Referer: http://my.com/index.html\n  Origin: http://my.com\n  \n  {"name": "袁小进", "age": 18 }</code></pre><ol start="4">\n  <li><strong>服务器响应真实请求</strong></li>\n  </ol>\n  <pre><code>HTTP/1.1 200 OK\n  Date: Tue, 21 Apr 2020 08:03:35 GMT\n  ...\n  Access-Control-Allow-Origin: http://my.com\n  ...\n  \n  添加用户成功</code></pre><p>可以看出，当完成预检之后，后续的处理与简单请求相同</p><p>下图简述了整个交互过程</p><figure class="markdown-image">\n        \n        <img style="width:auto" src="http://mdrs.yuanjin.tech/img/image-20200421165913320.png" title="image-20200421165913320" alt="image-20200421165913320">\n        <figcaption>image-20200421165913320</figcaption>\n    \n      </figure><h1 id="article-md-title-6">附带身份凭证的请求</h1><p>默认情况下，ajax的跨域请求并不会附带cookie，这样一来，某些需要权限的操作就无法进行</p><p>不过可以通过简单的配置就可以实现附带cookie</p><pre><code class="language-js"><span class="hljs-comment">// xhr</span>\n  <span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();\n  xhr.withCredentials = <span class="hljs-literal">true</span>;\n  \n  <span class="hljs-comment">// fetch api</span>\n  fetch(url, {\n    <span class="hljs-attr">credentials</span>: <span class="hljs-string">"include"</span>\n  })</code></pre>\n  <p>这样一来，该跨域的ajax请求就是一个<em>附带身份凭证的请求</em></p><p>当一个请求需要附带cookie时，无论它是简单请求，还是预检请求，都会在请求头中添加<code>cookie</code>字段</p><p>而服务器响应时，需要明确告知客户端：服务器允许这样的凭据</p><p>告知的方式也非常的简单，只需要在响应头中添加：<code>Access-Control-Allow-Credentials: true</code>即可</p><p>对于一个附带身份凭证的请求，若服务器没有明确告知，浏览器仍然视为跨域被拒绝。</p><p>另外要特别注意的是：<strong>对于附带身份凭证的请求，服务器不得设置 <code>Access-Control-Allow-Origin 的值为*</code></strong>。这就是为什么不推荐使用*的原因</p><h1 id="article-md-title-7">一个额外的补充</h1><p>在跨域访问时，JS只能拿到一些最基本的响应头，如：Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma，如果要访问其他头，则需要服务器设置本响应头。</p><p><code>Access-Control-Expose-Headers</code>头让服务器把允许浏览器访问的头放入白名单，例如：</p><pre><code>Access-Control-Expose-Headers: authorization, a, b</code></pre><p>这样JS就能够访问指定的响应头了。</p>'}}),a.a.mock("/api/comment","post",{code:0,msg:"",data:{id:"@guid",nickname:"@cname",content:"@cparagraph(1, 10)",createDate:"@date('yyyy-MM-dd')","avatar|1":["https://img0.baidu.com/it/u=171752860,2444777523&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=7cd71a4d9870d3de3d61f2ef328bccf9","https://t13.baidu.com/it/u=1407605080,3504409894&fm=224&app=112&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=11f45bf291ed73481b484735b6fd2bd3","https://img1.baidu.com/it/u=1508990132,3643620231&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=9396ed712ae9fe41262bad5fb83c3ba0","https://t13.baidu.com/it/u=4142574906,1473271580&fm=224&app=112&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=94591d5d1dede73cc8a7be2a758d235b"]}}),a.a.mock(/^\/api\/comment\/?(\?.+)?$/,"get",(function(t){var e=s.parse(t.url);return a.a.mock({code:0,msg:"",data:Object(r["a"])({"total|40":0},"rows|".concat(e.limit||10),[{id:"@guid",nickname:"@cname",content:"@cparagraph(1, 10)",createDate:"@date('yyyy-MM-dd')","avatar|1":["https://img0.baidu.com/it/u=171752860,2444777523&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=7cd71a4d9870d3de3d61f2ef328bccf9","https://t13.baidu.com/it/u=1407605080,3504409894&fm=224&app=112&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=11f45bf291ed73481b484735b6fd2bd3","https://img1.baidu.com/it/u=1508990132,3643620231&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=9396ed712ae9fe41262bad5fb83c3ba0","https://t13.baidu.com/it/u=4142574906,1473271580&fm=224&app=112&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=94591d5d1dede73cc8a7be2a758d235b"]}])})})),a.a.mock("/api/setting","get",{code:0,msg:"",data:{avatar:"http://www.duyiedu.com/source/img/logo.png",siteTitle:"我的个人空间",github:"https://github.com/dashboard",qq:"3263023350",qqQrCode:"https://img2.baidu.com/it/u=765537741,2423889997&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692378000&t=555225c0d09b57f672f2cf96168c0ee2",weixin:"yh777bao",weixinQrCode:"https://img2.baidu.com/it/u=765537741,2423889997&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692378000&t=555225c0d09b57f672f2cf96168c0ee2",mail:"duyi@gmail.com",icp:"黑ICP备17001719号",githubName:"DuYi-Edu",favicon:"http://mdrs.yuanjin.tech/Fs4CDlC6mwe_WXLMIiXcmSJLHO4f"}}),a.a.mock("/api/about","get",{code:0,msg:"",data:"http://www.strml.net/"}),a.a.mock("/api/project","get",{code:0,msg:"","data|10-12":[{id:"@uuid",name:"@ctitle(1,10)","url|1":["@url",null],"github|1":["@url",null],"description|1-5":["@cparagraph(1,5)"],thumb:"@image(300x250,@color,#fff,@natural)",order:1}]});var o=n("b383");a.a.mock("/api/message","post",{code:0,msg:"",data:{id:"@guid",nickname:"@cname",content:"@cparagraph(1, 10)",createDate:"@date('yyyy-MM-dd')","avatar|1":["https://img0.baidu.com/it/u=171752860,2444777523&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=7cd71a4d9870d3de3d61f2ef328bccf9","https://t13.baidu.com/it/u=1407605080,3504409894&fm=224&app=112&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=11f45bf291ed73481b484735b6fd2bd3","https://img1.baidu.com/it/u=1508990132,3643620231&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=9396ed712ae9fe41262bad5fb83c3ba0","https://t13.baidu.com/it/u=4142574906,1473271580&fm=224&app=112&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=94591d5d1dede73cc8a7be2a758d235b"]}}),a.a.mock(/^\/api\/message\/?(\?.+)?$/,"get",(function(t){var e=o.parse(t.url);return a.a.mock({code:0,msg:"",data:Object(r["a"])({"total|40":0},"rows|".concat(e.limit||10),[{id:"@guid",nickname:"@cname",content:"@cparagraph(1, 10)",createDate:"@date('yyyy-MM-dd')","avatar|1":["https://img0.baidu.com/it/u=171752860,2444777523&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=7cd71a4d9870d3de3d61f2ef328bccf9","https://t13.baidu.com/it/u=1407605080,3504409894&fm=224&app=112&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=11f45bf291ed73481b484735b6fd2bd3","https://img1.baidu.com/it/u=1508990132,3643620231&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=9396ed712ae9fe41262bad5fb83c3ba0","https://t13.baidu.com/it/u=4142574906,1473271580&fm=224&app=112&size=w931&n=0&f=JPEG&fmt=auto?sec=1692550800&t=94591d5d1dede73cc8a7be2a758d235b"]}])})})),a.a.setup({timeout:"100-3000"});var c=n("8bbf"),u=n.n(c),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"App-container"},[n("layout",{scopedSlots:t._u([{key:"left",fn:function(){return[n("div",{staticClass:"left"},[n("SiteAside")],1)]},proxy:!0},{key:"default",fn:function(){return[n("RouterView")]},proxy:!0}])}),n("Top")],1)},d=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"top-container",on:{click:t.handleClick}},[t._v("top")]):t._e()},m=[],h={data:function(){return{show:!1}},created:function(){this.$bus.$on("mainScroll",this.handlScroll)},destroyed:function(){this.$bus.$off("mainScroll",this.handlScroll)},methods:{handlScroll:function(t){this.show=!!t&&t.scrollTop>=500},handleClick:function(){this.$bus.$emit("setClick",0)}}},f=h,g=(n("6331"),n("2877")),b=Object(g["a"])(f,p,m,!1,null,"445f1066",null),v=b.exports,y=n("5849"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"siteAside-container"},[n("touXiang",{attrs:{url:"https://img0.baidu.com/it/u=171752860,2444777523&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1690563600&t=15a2f5d3bb21a00d9912d5f63d8315b1"}}),n("Menu"),n("contact"),n("p",{staticClass:"beiAn"},[t._v(t._s(t.banners.icp))])],1)},x=[],j=n("5880"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"TouXiang-container"},[n("img",{style:{width:t.size+"px",height:t.size+"px"},attrs:{src:t.url}}),n("span",[t._v("柠檬男娃娃")])])},C=[],k=(n("a9e3"),{props:{url:{type:String,required:!0},size:{type:Number,default:100}}}),O=k,$=(n("f744"),Object(g["a"])(O,_,C,!1,null,"abae4a80",null)),L=$.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"contact-container"},[n("li",[n("a",{attrs:{target:"_blank",href:t.banners.github}},[n("div",{staticClass:"icon"},[n("Icon",{attrs:{type:"github"}})],1),n("span",[t._v("2928104686@qq.com")])])]),n("li",[n("a",[n("div",{staticClass:"icon"},[n("Icon",{attrs:{type:"mail"}})],1),n("span",[t._v("2928104686@qq.com")])])]),n("li",[n("a",[n("div",{staticClass:"icon"},[n("Icon",{attrs:{type:"qq"}})],1),n("span",[t._v("2928104686")])]),n("div",{staticClass:"app"},[n("img",{attrs:{src:t.banners.qqQrCode,alt:""}})])]),n("li",[n("a",{staticClass:"weixin"},[n("div",{staticClass:"icon weixin"},[n("Icon",{attrs:{type:"weixin"}})],1),n("span",[t._v("hyk19991229")])]),n("div",{staticClass:"app"},[n("img",{attrs:{src:t.banners.weixinQrCode,alt:""}})])])])},R=[],T=n("cdae"),P={components:{Icon:T["a"]},computed:Object(j["mapState"])("setting",["banners"])},A=P,M=(n("5918"),Object(g["a"])(A,S,R,!1,null,"6f974c26",null)),E=M.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"menu-contaienr"},t._l(t.item,(function(e){return n("RouterLink",{key:e.link,attrs:{exact:e.exact,to:{name:e.name},"active-class":"active","exact-active-class":""}},[n("a",[n("div",{staticClass:"icon"},[n("Icon",{attrs:{type:e.icon}})],1),n("span",[t._v(t._s(e.title))])])])})),1)},z=[],q={components:{Icon:T["a"]},data:function(){return{item:[{name:"Home",title:"首页",icon:"home",exact:!0},{name:"Blog",title:"文章",icon:"blog",exact:!1},{name:"About",title:"关于我",icon:"about",exact:!0},{name:"Project",title:"项目&效果",icon:"code",exact:!0},{name:"Message",title:"留言板",icon:"chat",exact:!0}]}}},N=q,D=(n("939a"),Object(g["a"])(N,I,z,!1,null,"9c5ae92a",null)),H=D.exports,J={components:{touXiang:L,contact:E,Menu:H},computed:Object(j["mapState"])("setting",["banners"])},B=J,G=(n("5e78"),Object(g["a"])(B,w,x,!1,null,"95f8c402",null)),W=G.exports,X={components:{layout:y["a"],SiteAside:W,Top:v}},Y=X,V=(n("9ac2"),Object(g["a"])(Y,l,d,!1,null,"5be5b157",null)),Q=V.exports,U=n("6389"),F=n.n(U),K=(n("d3b7"),n("0737"),n("16c0"),n("8fc4"),n("3b5d"),n("34fb"),n("09f7"),[{name:"Home",path:"/",component:function(){return Promise.resolve().then(n.bind(null,"16c0"))},meta:{title:"首页"}},{name:"Blog",path:"/article",component:function(){return Promise.resolve().then(n.bind(null,"3b5d"))},meta:{title:"文章"}},{name:"Category",path:"/article/cate/:CategoryId",component:function(){return Promise.resolve().then(n.bind(null,"3b5d"))},meta:{title:"文章"}},{name:"Project",path:"/project",component:function(){return Promise.resolve().then(n.bind(null,"34fb"))},meta:{title:"项目&效果"}},{name:"bolgDetails",path:"/article/:id",component:function(){return Promise.resolve().then(n.bind(null,"09f7"))},meta:{title:"文章详情"}},{name:"About",path:"/about",component:function(){return Promise.resolve().then(n.bind(null,"0737"))},meta:{title:"关于我"}},{name:"Message",path:"/message",component:function(){return Promise.resolve().then(n.bind(null,"8fc4"))},meta:{title:"留言板"}}]),Z=n("e67d");window.VueRouter||u.a.use(F.a),u.a.use(F.a);var tt=new F.a({routes:K,mode:"history"});tt.afterEach((function(t,e){t.meta.title&&Z["a"].setRouteTitle(t.meta.title)}));var et=tt,nt=n("c4f5"),it=n("4045"),at=n.n(it),rt=n("0f19"),st=n.n(rt);function ot(t){return t.querySelector("img[data-id=loading]")}var ct=function(t,e){var n=ot(t);if(e.value){if(!n){var i=document.createElement("img");i.className=st.a.loading,i.src=at.a,i.dataset.id="loading",t.appendChild(i)}}else n&&n.remove()},ut=(n("4de4"),n("b85c")),lt=new u.a;u.a.prototype.$bus=lt;var dt=lt,pt=n("4174"),mt=n.n(pt);function ht(t,e){var n=null;return function(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];clearTimeout(n),n=setTimeout((function(){t.apply(void 0,a)}),e)}}var ft=[];function gt(t){t.dom.src=mt.a;var e=document.documentElement.clientHeight,n=t.dom.getBoundingClientRect(),i=n.height||100;n.top>=-i&&n.top<=e&&(t.dom.src=t.src,ft=ft.filter((function(e){return e!==t})))}function bt(){var t,e=Object(ut["a"])(ft);try{for(e.s();!(t=e.n()).done;){var n=t.value;gt(n)}}catch(i){e.e(i)}finally{e.f()}}dt.$on("mainScroll",ht(bt,50));var vt={inserted:function(t,e){var n={dom:t,src:e.value};ft.push(n),gt(n)},unbind:function(t){ft=ft.filter((function(e){return e.dom!==t}))}},yt=(n("96cf"),n("1da1")),wt=n("0c6d");function xt(){return jt.apply(this,arguments)}function jt(){return jt=Object(yt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,wt["a"].get("/api/banner");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),jt.apply(this,arguments)}var _t={namespaced:!0,state:{isLoding:!1,banners:[]},mutations:{setLoading:function(t,e){t.isLoding=e},setData:function(t,e){t.banners=e}},actions:{fetchBanner:function(t){return Object(yt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.banners.length){e.next=2;break}return e.abrupt("return");case 2:return t.commit("setLoading",!0),e.next=5,xt();case 5:n=e.sent,t.commit("setData",n),t.commit("setLoading",!1);case 8:case"end":return e.stop()}}),e)})))()}}},Ct=n("2912"),kt={namespaced:!0,state:{isLoding:!1,banners:[]},mutations:{setLoading:function(t,e){t.isLoding=e},setData:function(t,e){t.banners=e}},actions:{fetchBanner:function(t){return Object(yt["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.banners.length){e.next=2;break}return e.abrupt("return");case 2:return t.commit("setLoading",!0),e.next=5,Object(Ct["e"])();case 5:if(n=e.sent,t.commit("setData",n),t.commit("setLoading",!1),!n.favicon){e.next=17;break}if(i=document.querySelector("link[ref='shortcut icon']"),!i){e.next=12;break}return e.abrupt("return");case 12:i=document.createElement("link"),i.rel="shortcut icon",i.type="images/x-icon",i.href=n.favicon,document.querySelector("head").appendChild(i);case 17:n.siteTitle&&Z["a"].setSiteTitle(n.siteTitle);case 18:case"end":return e.stop()}}),e)})))()}}};function Ot(){return $t.apply(this,arguments)}function $t(){return $t=Object(yt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,wt["a"].get("/api/about");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),$t.apply(this,arguments)}var Lt={namespaced:!0,state:{isLoding:!1,banners:""},mutations:{setLoading:function(t,e){t.isLoding=e},setData:function(t,e){t.banners=e}},actions:{fetchAbout:function(t){return Object(yt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.banners.length){e.next=2;break}return e.abrupt("return");case 2:return t.commit("setLoading",!0),e.next=5,Ot();case 5:n=e.sent,t.commit("setData",n),t.commit("setLoading",!1);case 8:case"end":return e.stop()}}),e)})))()}}};function St(){return Rt.apply(this,arguments)}function Rt(){return Rt=Object(yt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,wt["a"].get("/api/project");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Rt.apply(this,arguments)}var Tt={namespaced:!0,state:{isLoding:!1,banners:[]},mutations:{setLoading:function(t,e){t.isLoding=e},setData:function(t,e){t.banners=e}},actions:{fetchDemo:function(t){return Object(yt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.banners.length){e.next=2;break}return e.abrupt("return");case 2:return t.commit("setLoading",!0),e.next=5,St();case 5:n=e.sent,t.commit("setData",n),t.commit("setLoading",!1);case 8:case"end":return e.stop()}}),e)})))()}}};window.Vuex||Object(j["install"])(u.a);var Pt=new j["Store"]({modules:{banners:_t,setting:kt,about:Lt,demo:Tt},strict:!0});Pt.dispatch("setting/fetchBanner"),u.a.directive("loading",ct),u.a.directive("Img",vt),u.a.prototype.$showMessage=nt["a"],new u.a({store:Pt,router:et,render:function(t){return t(Q)}}).$mount("#app")},5849:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout-container"},[n("div",{staticClass:"left"},[t._t("left")],2),n("div",{staticClass:"main"},[t._t("default")],2),n("div",{staticClass:"right"},[t._t("right")],2)])},a=[],r={},s=r,o=(n("d49f"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"0515bcc1",null);e["a"]=c.exports},5880:function(t,e){t.exports=Vuex},5918:function(t,e,n){"use strict";n("4a9e")},"5e78":function(t,e,n){"use strict";n("0253")},"5f18":function(t,e,n){"use strict";n("6e59")},6331:function(t,e,n){"use strict";n("2cde")},6389:function(t,e){t.exports=VueRouter},"684a":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-area-container"},[n("DataFrom",t._g({},t.$listeners)),n("h3",[t._v(" "+t._s(t.title)+" "),n("span",[t._v(t._s(t.subTitle))])]),n("DataList",{attrs:{list:t.list}}),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isListLoading,expression:"isListLoading"}],staticClass:"loading"})],1)},a=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"data-from",on:{submit:function(e){return e.preventDefault(),t.handleClick(e)}}},[n("div",{staticClass:"userId"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.nickname,expression:"user.nickname"}],attrs:{type:"text",placeholder:"用户昵称",maxlength:"10"},domProps:{value:t.user.nickname},on:{input:function(e){e.target.composing||t.$set(t.user,"nickname",e.target.value)}}}),n("p",{staticClass:"top"},[t._v(t._s(t.user.nickname.length)+"/10")])]),n("div",{staticClass:"err"},[t._v(t._s(t.error.nickname))]),n("div",{staticClass:"textContent"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.content,expression:"user.content"}],attrs:{type:"text",placeholder:"输入内容",maxlength:"300"},domProps:{value:t.user.content},on:{input:function(e){e.target.composing||t.$set(t.user,"content",e.target.value)}}}),t._v(" "),n("p",{staticClass:"buttom"},[t._v(t._s(t.user.content.length)+"/300")])]),n("div",{staticClass:"err"},[t._v(t._s(t.error.content))]),n("div",{staticClass:"but"},[n("button",{attrs:{disabled:t.isSubmit}},[t._v(t._s(t.isSubmit?"正在提交":"提交"))])])])},s=[],o={data:function(){return{user:{nickname:"",content:""},error:{nickname:"",content:""},isSubmit:!1}},methods:{handleClick:function(){var t=this;this.error.nickname=this.user.nickname?"":"请输入昵称",this.error.content=this.user.content?"":"请输入内容",this.error.nickname||this.error.content||(this.isSubmit=!0,this.$emit("submit",this.user,(function(e){t.user.nickname="",t.user.content="",t.isSubmit=!1,t.$showMessage({content:e,type:"success",duration:1500})})))}}},c=o,u=(n("05f7"),n("2877")),l=Object(u["a"])(c,r,s,!1,null,"510165a0",null),d=l.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"data-list"},t._l(t.list,(function(e){return n("li",{key:e.id},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.list,expression:"list"}],staticStyle:{width:"44px",height:"44px",padding:"0",margin:"0","border-radius":"50%"},attrs:{src:e.avatar}}),n("div",{staticClass:"data"},[n("div",{staticClass:"nickname"},[t._v(t._s(e.nickname))]),n("div",{staticClass:"content"},[t._v(" "+t._s(e.content)+" ")])])])})),0)},m=[],h={props:{list:{type:Array,default:function(){}}}},f=h,g=(n("034d"),Object(u["a"])(f,p,m,!1,null,"c6766b9c",null)),b=g.exports,v={components:{DataFrom:d,DataList:b},props:{title:{type:String,default:""},subTitle:{type:String,default:""},list:{type:Array,default:function(){return[]}},isListLoading:{type:Boolean,default:!1}}},y=v,w=(n("9e3b"),Object(u["a"])(y,i,a,!1,null,"2bb62b43",null));e["a"]=w.exports},"688c":function(t,e,n){},"6e59":function(t,e,n){},"775e":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"rightList-container"},t._l(t.list,(function(e,i){return n("li",{key:i},[n("span",{class:{active:e.active},on:{click:function(n){return t.handleClick(e)}}},[t._v(t._s(e.name))]),e.dis?n("span",{staticClass:"dis",class:{active:e.active},on:{click:function(n){return t.handleClick(e)}}},[t._v(t._s(e.dis))]):t._e(),n("rightList",{attrs:{list:e.children},on:{Active:t.handleClick}})],1)})),0)},a=[],r={name:"rightList",props:{list:{type:Array,default:function(){return[]}}},methods:{handleClick:function(t){t.active||this.$emit("Active",t)}}},s=r,o=(n("06b9"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"fc6ea704",null);e["a"]=c.exports},"85b9":function(t,e,n){},"8b46":function(t,e,n){},"8bbf":function(t,e){t.exports=Vue},"8bf2":function(t,e,n){},"8d00":function(t,e,n){"use strict";n("16ec")},"8fc4":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"main",staticClass:"message-container"},[n("Message",{attrs:{title:"留言板",subTitle:"("+t.banners.total+")",isListLoading:t.isLoding,list:t.banners.rows},on:{submit:t.handleSubmit}})],1)},a=[],r=(n("99af"),n("96cf"),n("1da1")),s=n("0c03"),o=n("0c6d");function c(){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:1,n=i.length>1&&void 0!==i[1]?i[1]:10,t.next=4,o["a"].get("/api/message",{page:e,limit:n});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].post("/api/message",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}var p=n("28af"),m=n("684a"),h={data:function(){return{page:1,limit:10}},computed:{hasMore:function(){return this.banners.rows.length<this.banners.total}},mounted:function(){this.$bus.$on("mainScroll",this.handleScroll)},destroyed:function(){this.$bus.$off("mainScroll",this.handleScroll)},mixins:[Object(p["a"])({total:0,rows:[]}),Object(s["a"])("main")],methods:{fetch:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t.page,t.limit);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},handleSubmit:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,l(t);case 2:a=i.sent,e("提交完成"),n.banners.rows.unshift(a);case 5:case"end":return i.stop()}}),i)})))()},handleScroll:function(t){if(!this.isLoding&&t){var e=80,n=Math.abs(t.scrollTop+t.clientHeight-t.scrollHeight);n<=e&&this.loadMore()}},loadMore:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.hasMore){e.next=2;break}return e.abrupt("return");case 2:return t.isLoding=!0,t.page++,e.next=6,t.fetch();case 6:n=e.sent,t.banners.total=n.total,t.banners.rows=t.banners.rows.concat(n.rows),t.isLoding=!1;case 10:case"end":return e.stop()}}),e)})))()}},components:{Message:m["a"]}},f=h,g=(n("3143"),n("2877")),b=Object(g["a"])(f,i,a,!1,null,"cf7fdfdc",null);e["default"]=b.exports},"932e":function(t,e,n){},"939a":function(t,e,n){"use strict";n("8bf2")},9848:function(t,e,n){"use strict";n("688c")},"9ac2":function(t,e,n){"use strict";n("8b46")},"9e3b":function(t,e,n){"use strict";n("85b9")},ac08:function(t,e,n){"use strict";n("5315")},b11f:function(t,e,n){},b78c:function(t,e,n){"use strict";n("e705")},b8c7:function(t,e,n){"use strict";n("cebe")},bb47:function(t,e,n){"use strict";n("b11f")},bd4b:function(t,e,n){"use strict";n("f0dd")},c4f5:function(t,e,n){"use strict";n("99af");var i=n("cdae"),a=n("536b"),r=n.n(a),s=n("8bbf"),o=n.n(s),c=function(t,e){var n=new o.a({render:function(n){return n(t,{props:e})}});return n.$mount(),n.$el};e["a"]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.content||"",n=t.type||"info",a=t.duration||2e3,s=t.container||document.body,o=document.createElement("div"),u=c(i["a"],{type:n}),l=r.a["message-".concat(n)];o.innerHTML="<span class=".concat(r.a.icon,">").concat(u.outerHTML,"</span><div>").concat(e,"</div>"),o.className="".concat(r.a.message," ").concat(l),s||"static"===getComputedStyle(s).position&&(s.style.position="relative"),s.appendChild(o),o.clientHeight,o.style.opacity=1,o.style.transform="translate(-50%,-50%)",setTimeout((function(){o.style.opacity=0,o.style.transform="translate(-50%,-50%) translateY(-25px)",o.addEventListener("transitionend",(function(){o.remove(),t.callBye&&t.callBye()}),{once:!0})}),a)}},c681:function(t,e,n){"use strict";n("2038")},cdae:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i",{staticClass:"iconfont",class:t.fontClass})},a=[],r={home:"iconzhuye",success:"iconzhengque",error:"iconcuowu",close:"iconguanbi",warn:"iconjinggao",info:"iconxinxi",blog:"iconblog",code:"iconcode",about:"iconset_about_hov",weixin:"iconweixin",mail:"iconemail",github:"icongithub",qq:"iconsign_qq",arrowUp:"iconiconfonticonfonti2copy",arrowDown:"iconiconfonticonfonti2",empty:"iconempty",chat:"iconliuyan"},s={props:{type:{type:String,required:!0}},computed:{fontClass:function(){return r[this.type]}}},o=s,c=(n("9848"),n("2877")),u=Object(c["a"])(o,i,a,!1,null,"18e4af19",null);e["a"]=u.exports},cebe:function(t,e,n){},cebe4:function(t,e){t.exports=axios},d49f:function(t,e,n){"use strict";n("31a5")},d67f:function(t,e,n){},db6a:function(t,e,n){},e67d:function(t,e,n){"use strict";n("99af");var i="",a="";function r(){document.title=i||a?a&&!i?a:!a&&i?i:"".concat(i,"-").concat(a):"loading...."}e["a"]={setRouteTitle:function(t){i=t,r()},setSiteTitle:function(t){a=t,r()}}},e705:function(t,e,n){},ede0:function(t,e,n){},f0dd:function(t,e,n){},f744:function(t,e,n){"use strict";n("ff3a")},fc2f:function(t,e,n){"use strict";n("ede0")},ff3a:function(t,e,n){}});
//# sourceMappingURL=app.e584396c.js.map